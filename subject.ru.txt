Название задания: микросхема
Ожидаемые файлы: * .c * .h
Допустимые функции: malloc, free, write, close, fork, waitpid, signal, kill, exit, chdir, execve, dup, dup2, pipe, strcmp, strncmp
-------------------------------------------------- ------------------------------------

Напишите программу, которая будет вести себя как выполнение команды оболочки
- Командная строка для выполнения будет аргументами этой программы
- Путь к исполняемому файлу будет абсолютным или относительным, но ваша программа не должна строить путь (например, из переменной PATH)
- Вы должны реализовать "|" а также ";" как в баше
- мы никогда не попробуем "|" сразу после или предшествующего ничего или "|" или ";"
- Ваша программа должна реализовывать встроенную команду cd только с путем в качестве аргумента (без '-' или без параметров)
- если cd имеет неправильное количество аргументов, ваша программа должна печатать в STDERR «error: cd: bad arguments», за которым следует '\ n'
- если cd не удалось, ваша программа должна напечатать в STDERR «error: cd: cannot change directory to path_to_change», за которым следует '\ n' с заменой path_to_change аргументом для cd
- команда cd никогда не будет сразу после или предваряться знаком "|"
- Вам не нужно управлять какими-либо типами подстановочных знаков (*, ~ и т. Д.)
- Вам не нужно управлять переменными среды ($ BLA ...)
- Если системный вызов, кроме execve и chdir, возвращает ошибку, ваша программа должна немедленно вывести «error: fatal» в STDERR, за которым следует '\ n', и программа должна выйти
- Если execve не удалось, вы должны вывести в STDERR строку «error: cannot execute executable_that_failed», за которой следует '\ n', где executable_that_failed заменено на путь к неудачному исполняемому файлу (это должен быть первый аргумент execve)
- Ваша программа должна уметь управлять более чем сотнями "|" даже если мы ограничим количество «открытых файлов» менее 30.

например, это должно работать:
$> ./ microshell / bin / ls "|" / usr / bin / grep microshell ";" / bin / echo мне нравится моя микросхема
микрооболочка
я люблю свою микросхему
$>

Подсказки:
Не забудьте передать переменную окружения в execve

Подсказки:
Не допускайте утечки файловых дескрипторов!